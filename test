task.spawn(function()
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local LocalData = require(ReplicatedStorage.Client.Framework.Services.LocalData)

    while true do
        local d = LocalData:Get()
        if d and d.WorldsUnlocked and d.IslandsUnlocked then
            if d.WorldsUnlocked["Christmas World"] and d.IslandsUnlocked["Christmas World"] then
                break
            end
            d.WorldsUnlocked["Christmas World"] = true
            d.IslandsUnlocked["Christmas World"] = math.huge
        end
        task.wait()
    end
end)

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

local function getRoot()
    local char = player.Character or player.CharacterAdded:Wait()
    return char:WaitForChild("HumanoidRootPart")
end

local Points = {
    CFrame.new(-2605.55, 20.60, 1115.76),
    CFrame.new(-2710.46, 32.90, 1190.03),
    CFrame.new(-2598.21, 21.22, 1069.86),
    CFrame.new(-2447.21, 31.83, 972.24),
    CFrame.new(-2519.26, 20.82, 1066.89),
    CFrame.new(-2414.90, 31.83, 1000.79),
    CFrame.new(-2674.88, 32.52, 1214.75),
    CFrame.new(-2710.10, 32.12, 1163.05),
    CFrame.new(-2422.10, 31.83, 974.31)
}

local FALLBACK_CF = CFrame.new(-2567.06, 25681.68, 1148.91)
local SWEEP_TIME = 1.1
local FALLBACK_WAIT = 10

local function sweepPadTimed(cf, maxTime)
    local root = getRoot()
    local basePos = cf.Position
    local start = tick()
    local yOffsets = {-5, 0, 5}
    local xzOffsets = {-3, 0, 3}

    for _, y in ipairs(yOffsets) do
        for _, x in ipairs(xzOffsets) do
            for _, z in ipairs(xzOffsets) do
                if tick() - start >= maxTime then return end
                root.CFrame = CFrame.new(basePos.X + x, basePos.Y + y, basePos.Z + z)
                pcall(function()
                    root.AssemblyLinearVelocity = Vector3.new(0, -30, 0)
                end)
                task.wait(0.1)
            end
        end
    end
end

task.spawn(function()
    while true do
        local t = tick()
        for _, cf in ipairs(Points) do
            sweepPadTimed(cf, SWEEP_TIME)
            getRoot().CFrame = FALLBACK_CF
            task.wait(FALLBACK_WAIT)
        end
        local e = tick() - t
        if e < 100 then task.wait(100 - e) end
    end
end)

task.spawn(function()
    local RF, RE
    for _, v in ipairs(ReplicatedStorage:GetDescendants()) do
        if v:IsA("RemoteFunction") and v.Name == "RemoteFunction" then RF = v end
        if v:IsA("RemoteEvent") and v.Name == "RemoteEvent" then RE = v end
    end
    while true do
        pcall(function()
            if RF then RF:InvokeServer("EquipBestPets") end
            if RE then RE:FireServer("EquipBestPets") end
        end)
        task.wait(30)
    end
end)

loadstring(game:HttpGet("https://raw.githubusercontent.com/IdiotHub/Scripts/main/Loader"))()
