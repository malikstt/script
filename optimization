-- Toggle for potion spam
getgenv().running = true

local RS = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local RE = RS:WaitForChild("Shared")
             :WaitForChild("Framework")
             :WaitForChild("Network")
             :WaitForChild("Remote")
             :WaitForChild("RemoteEvent")

-- Potions config: {RemoteName, PotionName, minAmount, maxAmount}
local pots = {
    {"UsePotion", "Speed", 7, 10},
    {"UsePotion", "Lucky", 7, 10},
    {"UsePotion", "Mythic", 7, 10},
    {"UsePotion", "Egg Elixir", 1, 10},    
    {"UsePotion", "Infinity Elixir", 1, 10},       
}

-- Stop existing task if running
RunService:UnbindFromRenderStep("PotionSpam")

-- Background auto-use
RunService:BindToRenderStep("PotionSpam", Enum.RenderPriority.First.Value, function()
    if not getgenv().running then return end
    local iterations = 60
    for _ = 1, iterations do
        for _, args in ipairs(pots) do
            pcall(function()
                RE:FireServer(unpack(args))
            end)
        end
    end
end)
