repeat task.wait() until game:IsLoaded()

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local WORLD_NAME = "Seven Seas"
local MAX_ATTEMPTS = 5
local RETRY_DELAY = 2

local LocalData = require(
    ReplicatedStorage
        :WaitForChild("Client")
        :WaitForChild("Framework")
        :WaitForChild("Services")
        :WaitForChild("LocalData")
)

local RemoteEvent = ReplicatedStorage
    :WaitForChild("Shared")
    :WaitForChild("Framework")
    :WaitForChild("Network")
    :WaitForChild("Remote")
    :WaitForChild("RemoteEvent")

local function isWorldUnlocked()
    local data = LocalData:Get()
    return data and data.WorldsUnlocked and data.WorldsUnlocked[WORLD_NAME] == true
end

task.spawn(function()
    if isWorldUnlocked() then
        print("SUCCESS")
        return
    end

    for _ = 1, MAX_ATTEMPTS do
        RemoteEvent:FireServer("UnlockWorld", WORLD_NAME)
        task.wait(RETRY_DELAY)

        if isWorldUnlocked() then
            print("SUCCESS")
            return
        end
    end

    print("FAIL")
end)
