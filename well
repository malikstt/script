-- Position-capture GUI for mobile touch (paste into executor). NO auto-clicker.
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PosCaptureGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui

local main = Instance.new("Frame")
main.Name = "Main"
main.AnchorPoint = Vector2.new(0,0)
main.Position = UDim2.new(0, 0, 0.02, 0)
main.Size = UDim2.new(0, 300, 0, 120)
main.BackgroundTransparency = 0.15
main.BackgroundColor3 = Color3.fromRGB(20,20,20)
main.BorderSizePixel = 0
main.Parent = screenGui

local uiCorner = Instance.new("UICorner", main)
uiCorner.CornerRadius = UDim.new(0,10)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, -12, 0, 28)
title.Position = UDim2.new(0, 6, 0, 6)
title.BackgroundTransparency = 1
title.Text = "Position Capture"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(240,240,240)
title.TextXAlignment = Enum.TextXAlignment.Left

local recordBtn = Instance.new("TextButton", main)
recordBtn.Size = UDim2.new(0.48, -8, 0, 36)
recordBtn.Position = UDim2.new(0, 6, 0, 40)
recordBtn.Text = "Record Pos"
recordBtn.Font = Enum.Font.SourceSans
recordBtn.TextSize = 16

local copyBtn = Instance.new("TextButton", main)
copyBtn.Size = UDim2.new(0.48, -8, 0, 36)
copyBtn.Position = UDim2.new(0.52, 2, 0, 40)
copyBtn.Text = "Copy Pos"
copyBtn.Font = Enum.Font.SourceSans
copyBtn.TextSize = 16

local posLabel = Instance.new("TextLabel", main)
posLabel.Size = UDim2.new(1, -12, 0, 28)
posLabel.Position = UDim2.new(0,6,0,84)
posLabel.BackgroundTransparency = 1
posLabel.Text = "No position recorded"
posLabel.Font = Enum.Font.SourceSans
posLabel.TextSize = 14
posLabel.TextColor3 = Color3.fromRGB(220,220,220)
posLabel.TextXAlignment = Enum.TextXAlignment.Left

for _,v in pairs({recordBtn, copyBtn}) do
    v.BackgroundColor3 = Color3.fromRGB(40,40,40)
    v.TextColor3 = Color3.fromRGB(230,230,230)
    v.BorderSizePixel = 0
    local c = Instance.new("UICorner", v)
    c.CornerRadius = UDim.new(0,6)
end

local recordedPos = nil
local recording = false

local function safeSetClipboard(str)
    if setclipboard then
        pcall(setclipboard, tostring(str))
    end
end

recordBtn.MouseButton1Click:Connect(function()
    recording = true
    recordBtn.Text = "Tap screen..."
    recordBtn.BackgroundColor3 = Color3.fromRGB(80,80,20)
end)

copyBtn.MouseButton1Click:Connect(function()
    if recordedPos then
        local s = string.format("Vector2.new(%.2f, %.2f)", recordedPos.X, recordedPos.Y)
        safeSetClipboard(s)
        copyBtn.Text = "Copied!"
        copyBtn.BackgroundColor3 = Color3.fromRGB(30,80,30)
        task.delay(1.2, function()
            if copyBtn and copyBtn.Parent then
                copyBtn.Text = "Copy Pos"
                copyBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
            end
        end)
    else
        copyBtn.Text = "No Pos"
        copyBtn.BackgroundColor3 = Color3.fromRGB(80,20,20)
        task.delay(1.2, function()
            if copyBtn and copyBtn.Parent then
                copyBtn.Text = "Copy Pos"
                copyBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
            end
        end)
    end
end)

UIS.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.UserInputType == Enum.UserInputType.Touch then
        local pos = input.Position
        if recording then
            recordedPos = Vector2.new(pos.X, pos.Y)
            posLabel.Text = string.format("Recorded: (%.0f, %.0f)", recordedPos.X, recordedPos.Y)
            recordBtn.Text = "Record Pos"
            recordBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
            recording = false
        else
            -- Also update label on ordinary taps so you always see coords
            recordedPos = Vector2.new(pos.X, pos.Y)
            posLabel.Text = string.format("Last tap: (%.0f, %.0f)", recordedPos.X, recordedPos.Y)
        end
    end
end)
