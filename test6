local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PetsModule = require(ReplicatedStorage.Shared.Data.Pets)

local TARGET_EGG = "New Years Egg"

local function getDenominator(info)
    if info.DisplayChance then
        local v = tonumber(info.DisplayChance)
        if v then
            if v < 1 then return 1 / v end
            return v
        end
    end
    if info.DisplayChanceText then
        local num = info.DisplayChanceText:match("1%s*/%s*([%d,]+)")
        if num then
            return tonumber(num:gsub(",", ""))
        end
    end
    if info.Chance then
        local v = tonumber(info.Chance)
        if v then
            if v < 1 then return 1 / v end
            return v
        end
    end
    return nil
end

local function formatShort(n)
    if n >= 1e9 then
        return "1/" .. tostring(math.floor(n / 1e9)) .. "b"
    elseif n >= 1e6 then
        return "1/" .. tostring(math.floor(n / 1e6)) .. "m"
    elseif n >= 1e3 then
        return "1/" .. tostring(math.floor(n / 1e3)) .. "k"
    else
        return "1/" .. tostring(math.floor(n))
    end
end

local list = {}

for name, info in pairs(PetsModule) do
    if type(info) == "table" and info.Egg == TARGET_EGG then
        local denom = getDenominator(info)
        if denom then
            denom = denom * 100
            table.insert(list, {
                Name = name,
                Rarity = info.Rarity,
                Denom = denom
            })
        end
    end
end

table.sort(list, function(a, b)
    return a.Denom > b.Denom
end)

print("malik nigger rarity generator")
for _, pet in ipairs(list) do
    print(pet.Name .. " : " .. tostring(pet.Rarity) .. " : " .. formatShort(pet.Denom))
end
print("you are such a nigger gen")
