local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local lp = Players.LocalPlayer
repeat task.wait() until lp.Character
local char = lp.Character
local hrp = char:WaitForChild("HumanoidRootPart")

local plots = Workspace:WaitForChild("Plots")

local platform = Instance.new("Part")
platform.Anchored = true
platform.Size = Vector3.new(50,5,50)
platform.Transparency = 1
platform.CanCollide = true
platform.Parent = plots
platform.CFrame = CFrame.new(0,50,0)
hrp.CFrame = platform.CFrame + Vector3.new(0,5,0)

local function isRemote(x)
	return x:IsA("RemoteEvent") or x:IsA("RemoteFunction")
end

local function nuke(container, keep)
	for _,v in ipairs(container:GetChildren()) do
		if not keep(v) then
			pcall(function() v:Destroy() end)
		end
	end
end

nuke(Workspace,function(v)
	if v == plots then return true end
	if v == char then return true end
	return false
end)

for _,d in ipairs(plots:GetDescendants()) do
	if d:IsA("Texture") or d:IsA("Decal") or d:IsA("MeshPart") or d:IsA("SpecialMesh") or d:IsA("UnionOperation") then
		pcall(function() d:Destroy() end)
	end
end

for _,s in ipairs({
	game:GetService("Lighting"),
	game:GetService("SoundService"),
	game:GetService("Chat"),
	game:GetService("Debris"),
	game:GetService("TweenService"),
	game:GetService("CollectionService"),
	game:GetService("PathfindingService"),
	game:GetService("PhysicsService")
}) do
	nuke(s,function() return false end)
end

for _,d in ipairs(ReplicatedStorage:GetDescendants()) do
	if not (d:IsA("LocalScript") or isRemote(d)) then
		pcall(function() d:Destroy() end)
	end
end

for _,v in ipairs(char:GetDescendants()) do
	if v:IsA("BasePart") then
		v.Anchored = true
		v.CanCollide = false
	end
end

pcall(function()
	if sethiddenproperty then
		sethiddenproperty(RunService,"Is3dRenderingEnabled",false)
	end
end)
