local Players = game:GetService("Players")
local VirtualInputManager = game:GetService("VirtualInputManager")
local player = Players.LocalPlayer

player.Character:PivotTo(CFrame.new(109.81, 9.49, 226.86))

local function autoDeletePets()
    local teamPetIds = getTeamPetIds()
    local data = LocalData:Get()
    if data and data.Pets then
        for _, pet in pairs(data.Pets) do
            local isTeamPet = false
            for _, teamPetId in ipairs(teamPetIds) do
                if pet.Id == teamPetId then
                    isTeamPet = true
                    break
                end
            end
            if not isTeamPet then
                local petInfo = PetsModule[pet.Name]
                if petInfo and petInfo.Rarity ~= "Secret" and petInfo.Rarity ~= "Infinity" then
                    local amounts = {100000, 10000, 1000, 100, 10, 1}
                    for _, amount in ipairs(amounts) do
                        RemoteEvent:FireServer("DeletePet", pet.Id, amount, false)
                        task.wait(0.01)
                    end
                end
            end
        end
    end
end

local start = tick()
local lastClick = tick()
while tick() - start < 100 do
    if tick() - start < 90 then
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.E, false, game)
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.E, false, game)
    else
        autoDeletePets()
    end
    if tick() - lastClick >= 60 then
        local viewportSize = workspace.CurrentCamera.ViewportSize
        VirtualInputManager:SendMouseButtonEvent(viewportSize.X/2, viewportSize.Y/2, 0, true, game, 0)
        VirtualInputManager:SendMouseButtonEvent(viewportSize.X/2, viewportSize.Y/2, 0, false, game, 0)
        lastClick = tick()
    end
    task.wait()
end
