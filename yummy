_G.Config = { UserID = "3087df52-2f5c-4e6f-a407-10fa72d16932", discord_id = "1135837863603351573", Note = "Pc" }
loadstring(game:HttpGet("https://raw.githubusercontent.com/skadidau/unfazedfree/refs/heads/main/bgsi"))()

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local StarterGui = game:GetService("StarterGui")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local RemoteEvent = ReplicatedStorage:WaitForChild("Shared"):WaitForChild("Framework"):WaitForChild("Network"):WaitForChild("Remote"):WaitForChild("RemoteEvent")

local notificationSettings = {"SetSetting", "Item Notifications", false}
RemoteEvent:FireServer(unpack(notificationSettings))

local function useMysteryBox()
    local args = {"UseGift", "Fall Mystery Box", 25}
    RemoteEvent:FireServer(unpack(args))
end

local function findCurrentGiftIDs()
    local rendered = Workspace:FindFirstChild("Rendered")
    if not rendered then return {} end
    local giftsFolder = rendered:FindFirstChild("Gifts")
    if not giftsFolder then return {} end
    local currentIDs = {}
    for _, gift in pairs(giftsFolder:GetChildren()) do
        if gift:IsA("Model") or gift:IsA("Part") then
            table.insert(currentIDs, gift.Name)
        end
    end
    return currentIDs
end

local function claimGift(giftID)
    local args = {"ClaimGift", giftID}
    RemoteEvent:FireServer(unpack(args))
end

local last = 0
RunService.Heartbeat:Connect(function(step)
    last += step
    if last >= 0.5 then
        useMysteryBox()
        local currentGifts = findCurrentGiftIDs()
        for _, giftID in pairs(currentGifts) do
            claimGift(giftID)
        end
        last = 0
    end
end)
