task.spawn(function()
	repeat task.wait(0.1) until game:IsLoaded()
	task.wait(0.2)

	local Players = game:GetService("Players")
	local ReplicatedStorage = game:GetService("ReplicatedStorage")

	local player = Players.LocalPlayer
	repeat task.wait(0.1) until player

	local LocalData = require(ReplicatedStorage.Client.Framework.Services.LocalData)

	local RemoteEvent =
		ReplicatedStorage:WaitForChild("Shared", 5)
		:WaitForChild("Framework", 5)
		:WaitForChild("Network", 5)
		:WaitForChild("Remote", 5)
		:WaitForChild("RemoteEvent", 5)

	task.wait(0.2)

	local function fire(name)
		RemoteEvent:FireServer(name)
		task.wait(0.15)
	end

	local uiCreated = false

	local function createInfiniteUI()
		if uiCreated then return end
		uiCreated = true

		local gui = Instance.new("ScreenGui")
		gui.Name = "InfiniteStatus"
		gui.ResetOnSpawn = false
		gui.Parent = player:WaitForChild("PlayerGui")

		local frame = Instance.new("Frame")
		frame.AnchorPoint = Vector2.new(0.5, 0)
		frame.Position = UDim2.fromScale(0.5, 0.02)
		frame.Size = UDim2.fromScale(0.9, 0.25) -- fits 200x200
		frame.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
		frame.BorderSizePixel = 0
		frame.Parent = gui

		local corner = Instance.new("UICorner")
		corner.CornerRadius = UDim.new(0, 12)
		corner.Parent = frame

		local text = Instance.new("TextLabel")
		text.Size = UDim2.fromScale(1, 1)
		text.BackgroundTransparency = 1
		text.TextWrapped = true
		text.TextScaled = true
		text.Font = Enum.Font.GothamBold
		text.TextColor3 = Color3.new(1, 1, 1)
		text.Text = "INFINITE ACTIVE\n" .. player.Name
		text.Parent = frame
	end

	task.wait(0.3)

	while true do
		local data = LocalData:Get()
		task.wait(0.05)

		local s = data and data.Season
		if not s then
			task.wait(0.5)
			continue
		end

		if not s.IsInfinite then
			if s.Points and s.Points >= 20000 then
				for i = 1, 15 do
					fire("ClaimSeason")
					task.wait(0.2)
				end
			else
				fire("ClaimSeason")
			end

			task.wait(0.2)

			if s.Level and s.Level >= 15 then
				fire("BeginSeasonInfinite")
				task.wait(0.5)
				fire("ClaimSeason")
				task.wait(1)
			end
		else
			createInfiniteUI()
			fire("ClaimSeason")
			task.wait(1)
		end

		task.wait(0.4)
	end
end)
