local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

local LocalData
pcall(function()
	LocalData = require(ReplicatedStorage.Client.Framework.Services.LocalData)
end)

local potionName = "Infinity Elixir"

local gui = Instance.new("ScreenGui")
gui.Name = "InfinityElixirUI"
gui.ResetOnSpawn = false
gui.Parent = player.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.fromOffset(200, 200)
frame.Position = UDim2.fromScale(0.5, 0.5)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = frame

local topBar = Instance.new("TextLabel")
topBar.Size = UDim2.new(1, -20, 0, 24)
topBar.Position = UDim2.fromOffset(10, 6)
topBar.BackgroundTransparency = 1
topBar.Text = "üß™      "..player.Name.."      ‚è≥"
topBar.TextSize = 18
topBar.TextColor3 = Color3.new(1,1,1)
topBar.Font = Enum.Font.GothamBold
topBar.Parent = frame

local potionLabel = Instance.new("TextLabel")
potionLabel.Size = UDim2.new(1, -20, 0, 28)
potionLabel.Position = UDim2.fromOffset(10, 38)
potionLabel.BackgroundTransparency = 1
potionLabel.Text = potionName
potionLabel.TextSize = 20
potionLabel.TextColor3 = Color3.new(1,1,1)
potionLabel.Font = Enum.Font.GothamBold
potionLabel.Parent = frame

local timeLabel = Instance.new("TextLabel")
timeLabel.Size = UDim2.new(1, -20, 0, 40)
timeLabel.Position = UDim2.fromOffset(10, 72)
timeLabel.BackgroundTransparency = 1
timeLabel.Text = "?"
timeLabel.TextSize = 32
timeLabel.TextColor3 = Color3.new(1,1,1)
timeLabel.Font = Enum.Font.GothamBold
timeLabel.Parent = frame

local amountTitle = Instance.new("TextLabel")
amountTitle.Size = UDim2.new(1, -20, 0, 18)
amountTitle.Position = UDim2.fromOffset(10, 118)
amountTitle.BackgroundTransparency = 1
amountTitle.Text = "Amount in Inventory"
amountTitle.TextSize = 14
amountTitle.TextColor3 = Color3.fromRGB(200,200,200)
amountTitle.Font = Enum.Font.Gotham
amountTitle.Parent = frame

local amountLabel = Instance.new("TextLabel")
amountLabel.Size = UDim2.new(1, -20, 0, 22)
amountLabel.Position = UDim2.fromOffset(10, 138)
amountLabel.BackgroundTransparency = 1
amountLabel.Text = "( ? )"
amountLabel.TextSize = 16
amountLabel.TextColor3 = Color3.new(1,1,1)
amountLabel.Font = Enum.Font.GothamBold
amountLabel.Parent = frame

local bottomDecor = Instance.new("TextLabel")
bottomDecor.Size = UDim2.new(1, -20, 0, 20)
bottomDecor.Position = UDim2.fromOffset(10, 168)
bottomDecor.BackgroundTransparency = 1
bottomDecor.Text = "üß™      ‚è≥      üß™"
bottomDecor.TextSize = 16
bottomDecor.TextColor3 = Color3.fromRGB(180,180,180)
bottomDecor.Font = Enum.Font.Gotham
bottomDecor.Parent = frame

local function updateAmount()
	if not LocalData then return end
	local data = LocalData:Get()
	if not data or not data.Potions then return end
	for _, pot in pairs(data.Potions) do
		if type(pot) == "table" and pot.Name == potionName then
			amountLabel.Text = "( "..tostring(pot.Amount).." )"
			break
		end
	end
end

local function updateTime()
	local buffs = player.PlayerGui:FindFirstChild("ScreenGui")
	if not buffs then return end
	buffs = buffs:FindFirstChild("Buffs")
	if not buffs then return end

	local potion = buffs:FindFirstChild(potionName)
	if not potion then return end

	local label = potion:FindFirstChild("Button")
	label = label and label:FindFirstChild("Label")
	if not label then return end

	local text = label.Text:lower()
	local days = tonumber(text:match("(%d+)%s*d"))
	local hours = tonumber(text:match("(%d+)%s*h"))

	if days then
		timeLabel.Text = days.." days"
	elseif hours then
		timeLabel.Text = hours.." hours"
	end
end

updateAmount()
updateTime()

task.spawn(function()
	while gui.Parent do
		updateAmount()
		updateTime()
		task.wait(5)
	end
end)
